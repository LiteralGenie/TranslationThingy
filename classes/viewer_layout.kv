#: import ScrollEffect kivy.effects.scroll.ScrollEffect
#: import FONT_1_BOLD utils.FONT_1_BOLD

#:set SCROLL_BAR_WIDTH 20
#:set SCROLL_BAR_MARGIN 2

#:set LINE_BOX_COLOR [1,0,0, 0.3]
#:set LINE_WIDTH 3

#:set FOCUS_BOX_COLOR [1,.2,.2, 1]
#:set FADE_TIME 0.75
#:set FADE_CYCLES 3

#:set LABEL_COLOR [1,0,0, .6]
#:set LABEL_DIST 5
#:set LABEL_SIZE 20

<Viewer>:  # ScrollView
    id: viewer
    viewclass: "ImPage"

    size_hint: (None,1)         # Full window height, width set to max of images

    scroll_type: ['bars', 'content']
    effect_y: ScrollEffect(friction=0.5)

    do_scroll_x: 0
    smooth_scroll_end: 1000
    scroll_distance: 1          # Low drag distance before scroll begins
    scroll_wheel_distance: 10

    bar_width: int(SCROLL_BAR_WIDTH - SCROLL_BAR_MARGIN)
    bar_color: [.5,.5,.5,.5]
    bar_inactive_color: [.5,.5,.5,.1]

    layout: layout
    float_layout: float_layout

    FloatLayout:
        id: float_layout
        size_hint: (None,None)

        BoxLayout:
            id: layout
            orientation: "vertical"
            size_hint: (None,None)

<ImPage>:  # AsyncImage
    size_hint: (None,None)
    line_box_color: LINE_BOX_COLOR # @TODO: rename to normal_color / focus_color
    line_width: LINE_WIDTH
    focus_box_color: FOCUS_BOX_COLOR
    fade_time: FADE_TIME
    fade_cycles: FADE_CYCLES

<BubbleLabel>:
    font_size: LABEL_SIZE
    dist: LABEL_DIST
    font_name: FONT_1_BOLD

    size: self.texture_size
    normal_color: LABEL_COLOR

    r: 0
    g: 0
    b: 0
    a: 0

    color: [self.r, self.g, self.b, self.a]


# Line is an instruction, not widget lol.
# <LineBox>: # Line
#     width: LINE_WIDTH
#     has_focus: False